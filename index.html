<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Voyages</title>
    <!-- DM Sans Font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* CSS Variables for Theme */
        :root {
            /* Dark Mode Defaults */
            --bg-dark: #1a082b;
            --bg-medium: #2d1a42;
            --bg-light: #402c58;
            --text-light: #f0f0f0;
            --text-medium: #d0d0d0;
            --accent-purple: #bb86fc;
            --accent-blue: #82aaff;
            --border-color: rgba(109, 40, 217, 0.5); /* For quiz container */
            --shadow-color: rgba(139, 92, 246, 0.3); /* For quiz container */
            --quiz-bg: rgba(30, 0, 60, 0.8);
            --quiz-text: #E0E7FF;
            --quiz-radio-border: #6D28D9;
            --quiz-radio-bg: #1A0033;
            --quiz-radio-checked: #8B5CF6;
            --quiz-radio-dot: #FFFFFF;
            --quiz-radio-focus-shadow: rgba(139, 92, 246, 0.5);
            --quiz-card-bg: rgba(30, 0, 60, 0.8);
            --quiz-card-border: rgba(109, 40, 217, 0.5);
            --quiz-score-bg: rgba(75, 0, 130, 0.7); /* Darker purple for results */
            --quiz-score-text: #E0E7FF;
            --quiz-score-highlight: #FCD34D; /* Yellow */
            --success-bg: rgba(21, 128, 61, 0.5); /* Green-900 with opacity */
            --success-border: #166534; /* Green-700 */
            --success-text: #86EFAC; /* Green-300 */
            --error-bg: rgba(153, 27, 27, 0.5); /* Red-900 with opacity */
            --error-border: #991B1B; /* Red-700 */
            --error-text: #F87171; /* Red-300 */
            --button-primary-bg: #bb86fc;
            --button-primary-text: #ffffff;
            --button-secondary-bg: #82aaff;
            --button-secondary-text: #ffffff;
            --navbar-bg: #2d1a42; /* Darker grey-purple for navbar */
            --footer-bg: #2d1a42; /* Darker grey-purple for footer */
            --text-default: #f0f0f0; /* Default text color */
            /* New variable for dropdown background to ensure contrast */
            --dropdown-bg-dark: #3a2b53; /* Slightly lighter than navbar for dark mode */
        }

        /* Light Mode Overrides */
        body.light-mode {
            --bg-dark: #fbfbfb; /* Very light background */
            --bg-medium: #f2f2f2; /* Slightly darker light background */
            --bg-light: #e6e6e6; /* Even darker light background */
            --text-light: #1a082b; /* Dark text for contrast */
            --text-medium: #2d1a42; /* Slightly lighter dark text */
            --accent-purple: #6c42a2; /* Deeper purple for light mode */
            --accent-blue: #3d7ee0; /* Stronger blue for light mode */
            --border-color: rgba(90, 130, 200, 0.5); /* Blue-ish border for light mode */
            --shadow-color: rgba(90, 130, 200, 0.3); /* Blue-ish shadow for light mode */
            --quiz-bg: rgba(255, 255, 255, 0.9); /* White transparent quiz background */
            --quiz-text: #1a082b; /* Dark text for quiz in light mode */
            --quiz-radio-border: #4a90e2; /* Blue */
            --quiz-radio-bg: #ffffff; /* White background for unselected radio */
            --quiz-radio-checked: #4a90e2; /* Blue when checked */
            --quiz-radio-dot: #FFFFFF;
            --quiz-radio-focus-shadow: rgba(74, 144, 226, 0.5);
            --quiz-card-bg: rgba(240, 240, 240, 0.9); /* Light grey card background */
            --quiz-card-border: rgba(120, 160, 220, 0.5);
            --quiz-score-bg: rgba(230, 240, 255, 0.9); /* Light blue-ish for results */
            --quiz-score-text: #1a082b;
            --quiz-score-highlight: #D4A700; /* Darker yellow/gold */
            --success-bg: rgba(200, 250, 200, 0.8); /* Light green for success */
            --success-border: #60B88F; /* Deeper green */
            --success-text: #28a745; /* Standard green */
            --error-bg: rgba(153, 27, 27, 0.5); /* Red-900 with opacity */
            --error-border: #991B1B; /* Red-700 */
            --error-text: #F87171; /* Red-300 */
            --button-primary-bg: #82aaff;
            --button-primary-text: #1a082b;
            --button-secondary-bg: #bb86fc;
            --button-secondary-text: #1a082b;
            --navbar-bg: #e0e0e0; /* Light grey for navbar */
            --footer-bg: #e0e0e0; /* Light grey for footer */
            --text-default: #1a082b; /* Default text color in light mode */
            --dropdown-bg-light: #d0d0d0; /* Slightly darker than navbar for light mode */
        }


        /* Apply CSS variables to global elements and Tailwind overrides */
        body {
            background-color: var(--bg-dark);
            color: var(--text-light);
        }
        html {
            scroll-padding-top: 0px; /* Will be set dynamically by JS */
        }
        .bg-space-dark { background-color: var(--bg-dark); }
        .bg-space-medium { background-color: var(--bg-medium); }
        .bg-space-light { background-color: var(--bg-light); }
        .text-star-light { color: var(--text-light); }
        .text-star-medium { color: var(--text-medium); }
        .text-accent-purple { color: var(--accent-purple); }
        .text-accent-blue { color: var(--accent-blue); }
        .border-accent-purple { border-color: var(--accent-purple); }
        .hover\:bg-accent-purple:hover { background-color: var(--accent-purple); }
        .hover\:text-accent-purple:hover { color: var(--accent-purple); }
        .hover\:bg-accent-blue:hover { background-color: var(--accent-blue); }
        .hover\:text-accent-blue:hover { color: var(--accent-blue); }

        /* Specific element background/text color overrides for theme */
        nav { background-color: var(--navbar-bg); }
        footer { background-color: var(--footer-bg); }
        #aboutUsBtn { /* Updated ID */
             background-color: var(--button-primary-bg);
             color: var(--button-primary-text);
        }
        #learnMoreBtn {
            border-color: var(--accent-blue);
            color: var(--button-secondary-text);
        }
        #learnMoreBtn:hover {
            background-color: var(--accent-blue);
            color: var(--text-light);
        }
        /* Specific glow for H1 based on theme */
        body:not(.light-mode) .h1-glow {
            text-shadow: 0 0 8px rgba(187, 134, 252, 0.7), 0 0 15px rgba(130, 170, 255, 0.5);
        }
        body.light-mode .h1-glow {
            text-shadow: none; /* No glow in light mode */
        }


        /* General styles from previous versions */
        html, body {
            margin: 0;
            padding: 0;
        }
        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'DM Sans', sans-serif;
            overflow-x: hidden;
            scroll-behavior: smooth;
            position: relative;
        }

        /* Nav Logo Marquee */
        .logo-text-marquee-container {
            flex-shrink: 0;
            overflow: hidden;
            white-space: nowrap;
            width: 200px; /* Or a more responsive width like w-1/4, w-1/3 depending on desired responsiveness */
            height: 30px; /* Align with text height */
            display: flex;
            align-items: center; /* Vertically center the scrolling text */
            margin-left: 0.5rem; /* Space between logo image and text */
        }

        .logo-marquee-content {
            display: inline-block; /* Essential for content width calculation */
            animation: logoMarquee 20s linear infinite;
        }

        .logo-text-marquee-container:hover .logo-marquee-content {
            animation-play-state: paused;
        }

        @keyframes logoMarquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); } /* Move half the total content width for seamless loop */
        }


        /* Home Page Marquee Container Styles (for News & Updates) */
        .home-marquee-container {
            background-color: var(--bg-light); /* Distinct background from body and nav */
            color: var(--text-light);
            padding: 0.5rem 1.5rem;
            text-align: center;
            font-weight: bold;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            box-sizing: border-box;
            border-radius: 0.5rem; /* Rounded corners */
            margin-top: 2rem; /* Space from hero section */
            margin-bottom: 2rem; /* Space to features section */
            box-shadow: 0 4px 10px rgba(0,0,0,0.2); /* Subtle shadow */
            height: 30px; /* Fixed height for marquee to prevent content jump */
            display: flex;
            align-items: center; /* Vertically center the text */
            justify-content: center;
        }
        .home-marquee-content {
            display: inline-block; /* Essential for content width calculation */
            animation: marquee 40s linear infinite;
        }
        .home-marquee-container:hover .home-marquee-content {
            animation-play-state: paused;
        }
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); } /* Move half the total content width for seamless loop */
        }

        /* Full-page Three.js canvas */
        .threejs-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: block;
            z-index: -1;
        }

        /* Hero section content container */
        .hero-content-wrapper {
            position: relative;
            z-index: 10;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            max-width: 90%;
            margin: 0 auto;
        }

        /* Modal Styles */
        .modal {
            display: none; /* Controlled by JS, but default to hidden */
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: var(--bg-medium);
            margin: auto;
            padding: 20px;
            border: 1px solid var(--border-color);
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            position: relative;
            text-align: center;
            box-shadow: 0 4px 15px var(--shadow-color);
        }
        /* Removed .modal .close-button from here */

        /* Section transition effect */
        .content-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            position: relative;
            z-index: 10;
            text-align: center;
        }
        .content-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Dropdown menu specific styles */
        .dropdown {
            position: relative;
            display: inline-block;
            color: var(--text-medium);
            font-weight: 500;
            border-radius: 0.375rem;
            padding-left: 0.75rem;
            padding-right: 0.75rem;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
            transition: background-color 0.3s ease, color 0.3s ease;
            cursor: pointer;
            white-space: nowrap;
        }
        .dropdown:hover {
            color: var(--accent-blue);
        }
        .dropdown > a {
            text-decoration: none;
            color: inherit;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* Adjusted arrow rotation */
        .dropdown-arrow {
            transition: transform 0.3s ease-in-out;
            transform: rotate(180deg); /* Default: points up */
        }
        .dropdown.open .dropdown-arrow {
            transform: rotate(0deg); /* When open: points down */
        }

        /* Adjusted dropdown content positioning and background for contrast */
        .dropdown-content {
            display: none; /* Hidden by default */
            position: absolute;
            background-color: var(--dropdown-bg-dark); /* Use new variable for contrast in dark mode */
            box-shadow: 0 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 8px;
            overflow: hidden;
            top: calc(100% + 8px); /* Position below the toggle */
            right: 0; /* Align to the right edge of its parent */
            padding: 8px;
            flex-direction: row; /* Always horizontal */
            gap: 10px;
            justify-content: flex-end; /* Align items to the end (right) */
            align-items: center;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
            min-width: max-content; /* Ensure dropdown is wide enough for content */
            padding-right: 15px;
            padding-left: 15px;
        }
        body.light-mode .dropdown-content {
            background-color: var(--dropdown-bg-light); /* Use new variable for contrast in light mode */
        }

        .dropdown.open .dropdown-content {
            display: flex; /* Show as flex when open */
        }

        @media (max-width: 768px) {
            .dropdown-content {
                left: 0; /* Reset to left for small screens if right causes overflow */
                right: auto; /* Remove right alignment */
                transform: translateX(0); /* Remove transform */
                width: 100%;
                justify-content: flex-start;
            }
        }

        .dropdown-content a {
            color: var(--text-medium);
            padding: 8px 12px;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            transition: background-color 0.2s ease;
            font-family: 'DM Sans', sans-serif;
            border-radius: 6px;
            white-space: nowrap;
        }

        .dropdown-content a:hover {
            background-color: var(--bg-light);
            color: var(--text-light);
        }


        /* Quiz Page Specific Styles */
        .quiz-page-container {
            background-color: var(--quiz-bg);
            backdrop-filter: blur(3px);
            border: 1px solid var(--border-color);
            box-shadow: 0 0 15px var(--shadow-color);
            color: var(--quiz-text); /* Uses --quiz-text, which changes with theme */
            padding: 20px;
            border-radius: 20px;
            overflow-y: auto;
            margin-top: 2rem;
            margin-bottom: 2rem;
            max-width: 800px;
            width: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 5;
            margin-left: auto;
            margin-right: auto;
        }
        .quiz-page-container input[type="radio"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 50%;
            border: 2px solid var(--quiz-radio-border);
            background-color: var(--quiz-radio-bg);
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            position: relative;
            flex-shrink: 0;
        }
        .quiz-page-container input[type="radio"]:checked {
            background-color: var(--quiz-radio-checked);
            border-color: var(--quiz-radio-checked);
        }
        .quiz-page-container input[type="radio"]:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
            background-color: var(--quiz-radio-dot);
        }
        .quiz-page-container input[type="radio"]:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--quiz-radio-focus-shadow);
        }
        .quiz-page-container label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            text-align: left;
        }
        .question-card {
            background-color: var(--quiz-card-bg);
            backdrop-filter: blur(5px);
            width: 100%;
            text-align: left;
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid var(--quiz-card-border);
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .question-card .options {
            text-align: left;
        }
        .submit-button {
            background: linear-gradient(to right, var(--quiz-radio-checked), var(--accent-purple));
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            color: var(--text-light);
        }
        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px var(--shadow-color);
        }

        /* Quiz Results Styling */
        #results-container {
            background-color: var(--quiz-score-bg);
            border: 1px solid var(--quiz-card-border);
        }
        #score-display {
            color: var(--quiz-score-text);
        }
        #score-display span {
            color: var(--quiz-score-highlight);
        }
        #feedback-details .bg-green-900 { /* Tailwind class, mapped to variable */
            background-color: var(--success-bg);
            border-color: var(--success-border);
        }
        #feedback-details .text-green-300 { /* Tailwind class, mapped to variable */
            color: var(--success-text);
        }
        #feedback-details .bg-red-900 { /* Tailwind class, mapped to variable */
            background-color: var(--error-bg);
            border-color: var(--error-border);
        }
        #feedback-details .text-red-300 { /* Tailwind class, mapped to variable */
            color: var(--error-text);
        }
        #feedback-details .text-green-400 { /* Tailwind class, mapped to variable */
            color: var(--success-text);
        }


        /* Custom scrollbar for better aesthetics within modal if needed */
        .quiz-page-container::-webkit-scrollbar {
            width: 8px;
        }
        .quiz-page-container::-webkit-scrollbar-track {
            background: var(--bg-dark);
            border-radius: 10px;
        }
        .quiz-page-container::-webkit-scrollbar-thumb {
            background: var(--quiz-radio-border);
            border-radius: 10px;
        }
        .quiz-page-container::-webkit-scrollbar-thumb:hover {
            background: var(--quiz-radio-checked);
        }

        /* Announcement Banner Styles */
        .announcement-banner {
            background-color: #eab308;
            color: #1a202c;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            font-weight: bold;
            font-size: 1.1rem;
            text-align: center;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            flex-wrap: wrap;
            height: auto;
            min-height: 60px;
        }
        .announcement-banner button {
            background-color: #1a202c;
            color: #eab308;
            padding: 0.5rem 1.25rem;
            border-radius: 9999px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .announcement-banner button:hover {
            background-color: #4a5568;
        }

        /* Navigation Bar - fixed and positioned dynamically */
        nav {
            position: fixed;
            left: 0;
            width: 100%;
            z-index: 90;
        }

        /* Media query for smaller screens to adjust padding-top if needed */
        @media (max-width: 767px) {
            .announcement-banner {
                padding: 0.75rem 1rem;
            }
        }
    </style>
</head>
<body class="bg-space-dark text-star-light">

    <!-- Background Music -->
    <audio id="backgroundMusic" loop autoplay>
        <source src="https://dl.dropboxusercontent.com/scl/fi/dkrs0oc0jvtg9xghqye8l/inspiring-cinematic-ambient-255033.mp3?rlkey=42pu1bucaixq9ncgfq5wdo2qp&e=1&st=qf8fyjbk" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Announcement Banner -->
    <div class="announcement-banner" id="quizAnnouncementBanner">
        <span>Blast Off With This Planet Trivia Quiz!!!</span>
        <button id="openQuizBtn">Are you ready?</button>
    </div>

    <!-- Full-page Three.js Canvas for stars -->
    <canvas id="threeJsCanvas" class="threejs-canvas"></canvas>

    <!-- Navigation Bar -->
    <nav class="shadow-lg py-4 px-6 rounded-b-lg" style="background-color: var(--navbar-bg);">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <!-- Logo - Clickable to Home -->
            <a href="#home-section" class="flex items-center space-x-2 text-2xl font-bold text-accent-purple mb-4 md:mb-0 nav-link">
                <!-- Using the provided Dropbox link for the logo -->
                <img src="https://previews.dropbox.com/p/thumb/ACofJhwdazgSsMObcigTR8TrQa5B35rbFO1eNGWXccLGUoUivslIL8LlaT6f0WSZ8wP1D4Bze2o24qli-Q3RGlq2UP1ycohfvEP_DctSK3mNVsjaUEg4_tZnwA-sUh408vvanuD7gH2oimxlCP8rPiXlymj-5xboeu5brXr_4g90ZKnKbyd10CvYZYlpXuX3huViN8nyS8H2c6GcVxUqPGyFsp2iTKwvNR3mP-_cCKvo_z6n0ZIBee5YfQdfHpx95FDaHbeqrAkHeb8j9U6RToy2wgdJoOoMJ2gHPUS6d0L8TgN61vDcqCCaiJygw8l56lo/p.png" alt="Gemini Voyages Logo" class="h-16 w-16 rounded-full">
                <!-- Gemini Voyages Marquee -->
                <div class="logo-text-marquee-container hidden md:block">
                    <!-- Duplicated content for seamless loop -->
                    <span class="logo-marquee-content">Gemini Voyages &bull; Orbiting Possibilities &bull; Landing Dreams &bull; Gemini Voyages &bull; Orbiting Possibilities &bull; Landing Dreams &bull; </span>
                </div>
            </a>

            <!-- Navigation Links, Dropdown, and Theme Toggle -->
            <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-8 items-center flex-grow justify-end">
                <a href="#home-section" class="nav-link text-star-medium hover:text-accent-blue font-medium rounded-md px-3 py-2 transition duration-300 ease-in-out">Home</a>
                <a href="#about" class="nav-link text-star-medium hover:text-accent-blue font-medium rounded-md px-3 py-2 transition duration-300 ease-in-out">About Us</a>
                <a href="#your-stay-section" class="nav-link text-star-medium hover:text-accent-blue font-medium rounded-md px-3 py-2 transition duration-300 ease-in-out">Your Stay</a>

                <!-- Planets Dropdown -->
                <div class="dropdown text-star-medium hover:text-accent-blue font-medium rounded-md px-3 py-2 transition duration-300 ease-in-out">
                    <a href="#" id="planetsDropdownToggle" class="flex items-center">
                        Planets
                        <svg class="inline-block w-4 h-4 ml-1 -mt-1 dropdown-arrow" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </a>
                    <div class="dropdown-content">
                        <a href="#mercury-section" class="nav-link" title="Explore the scorching hot Mercury!">Mercury</a>
                        <a href="#venus-section" class="nav-link" title="Journey to Earth's cloud-veiled sister, Venus!">Venus</a>
                        <a href="#earth-section" class="nav-link" title="Return to our vibrant home, Earth!">Earth</a>
                        <a href="#mars-section" class="nav-link" title="Discover the mysteries of the Red Planet, Mars!">Mars</a>
                        <a href="#jupiter-section" class="nav-link" title="Witness the giant, stormy Jupiter!">Jupiter</a>
                        <a href="#saturn-section" class="nav-link" title="Behold the magnificent rings of Saturn!">Saturn</a>
                        <a href="#uranus-section" class="nav-link" title="Visit the tilted ice giant, Uranus!">Uranus</a>
                        <a href="#neptune-section" class="nav-link" title="Experience the distant, windy world of Neptune!">Neptune</a>
                    </div>
                </div>
                <a href="#gallery-section" class="nav-link text-star-medium hover:text-accent-blue font-medium rounded-md px-3 py-2 transition duration-300 ease-in-out">Gallery</a>
                <a href="#connect-section" class="nav-link text-star-medium hover:text-accent-blue font-medium rounded-md px-3 py-2 transition duration-300 ease-in-out">Connect</a>

                <!-- Theme Toggle Button -->
                <button id="themeToggleBtn" class="text-star-medium hover:text-accent-blue font-medium rounded-md px-3 py-2 transition duration-300 ease-in-out flex items-center justify-center">
                    <svg id="moonIcon" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                    <svg id="sunIcon" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="6"/>
                        <rect x="11" y="2" width="2" height="4"/>
                        <rect x="11" y="18" width="2" height="4"/>
                        <rect x="2" y="11" width="4" height="2"/>
                        <rect x="18" y="11" width="4" height="2"/>
                        <rect x="11" y="2" width="2" height="4" transform="rotate(45 12 12)"/>
                        <rect x="11" y="2" width="2" height="4" transform="rotate(135 12 12)"/>
                        <rect x="11" y="2" width="2" height="4" transform="rotate(225 12 12)"/>
                        <rect x="11" y="2" width="2" height="4" transform="rotate(315 12 12)"/>
                    </svg>
                </button>

            </div>
        </div>
    </nav>

    <!-- Main Content Area - Contains all sections -->
    <main class="container mx-auto px-4 py-8">
        <!-- Home Section -->
        <section id="home-section" class="content-section active">
            <header class="text-star-light rounded-lg m-4 shadow-xl hero-content-wrapper">
                <div class="max-w-4xl mx-auto">
                    <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-6 h1-glow">
                        Welcome to Gemini Voyages
                    </h1>
                    <p class="text-lg md:text-xl mb-10 max-w-2xl mx-auto text-star-medium">
                        Orbiting Possibilities, Landing Dreams.
                    </p>
                    <div class="flex justify-center space-x-4">
                        <button id="aboutUsBtn" class="bg-white text-gray-900 hover:bg-gray-200 font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out button-glow">
                            About Us
                        </button>
                        <button id="learnMoreBtn" class="border border-accent-blue text-white hover:bg-accent-blue hover:text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out button-glow">
                            Try our quiz!!!
                        </button>
                    </div>
                </div>
            </header>

            <!-- News & Updates Marquee - On the homepage, just above the feature boxes -->
            <div id="homeMarqueeContainer" class="home-marquee-container">
                <!-- Duplicated content for seamless loop -->
                <span class="home-marquee-content">NEWS & UPDATES: New routes to Mercury now available! • Book your deep-space adventure today! • Early bird discounts for first-time voyagers! • Explore the digital cosmos with Gemini Voyages! • NEWS & UPDATES: New routes to Mercury now available! • Book your deep-space adventure today! • Early bird discounts for first-time voyagers! • Explore the digital cosmos with Gemini Voyages! • </span>
            </div>

            <!-- Features Section (the "boxes" section) -->
            <section id="features-section-inner" class="py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
                <div class="container mx-auto text-center">
                    <h2 class="text-3xl md:text-4xl font-bold mb-12 text-accent-purple">Why Choose Us?</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="bg-space-light rounded-xl shadow-lg p-8 transform hover:scale-105 transition duration-300 ease-in-out">
                            <div class="text-accent-blue mb-4">
                                <svg class="h-10 w-10 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-1.75-3M13.5 10H15a1 1 0 011 1v6h-4v-6a1 1 0 011-1zm-3 0V7a1 1 0 011-1h2a1 1 0 011 1v3"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-4 text-star-light">Cutting-Edge Technology</h3>
                            <p class="text-star-medium">
                                We utilize the latest advancements in space travel to ensure your journey is safe and efficient.
                            </p>
                        </div>
                        <div class="bg-space-light rounded-xl shadow-lg p-8 transform hover:scale-105 transition duration-300 ease-in-out">
                            <div class="text-accent-purple mb-4">
                                <svg class="h-10 w-10 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-4 text-star-light">Unmatched Reliability</h3>
                            <p class="text-star-medium">
                                Our fleet boasts an impeccable safety record and consistent on-time performance.
                            </p>
                        </div>
                        <div class="bg-space-light rounded-xl shadow-lg p-8 transform hover:scale-105 transition duration-300 ease-in-out">
                            <div class="text-red-400 mb-4">
                                <svg class="h-10 w-10 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-2 4h4m-4-7h4M3 12h18M6 4h12a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2zm0 0V4m0 0H6"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-4 text-star-light">Dedicated Support Team</h3>
                            <p class="text-star-medium">
                                Our experienced crew is available 24/7 to ensure a smooth and enjoyable journey.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- About Us Section -->
        <section id="about" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-purple">About Us</h2>
                <p class="text-lg text-star-medium mb-6 max-w-3xl mx-auto">
                    We are Gemini Voyages, a luxury intergalactic airline which is your 1# go-to shuttle for venturing through the vast expanse of cosmos which is our Solar System. We provide flights to a wide variety of destinations, including to/from Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, and Neptune.
                </p>
                <p class="text-star-medium max-w-3xl mx-auto">
                    We are offering this service after our successful mission last year; in which our crew developed a database of safe planets; based on distance from earth, gravitational strength, surface pressure, and chemical makeup of the atmosphere.
                </p>
                <div class="mt-10 flex flex-wrap justify-center gap-6">
                    <div class="p-6 bg-space-light rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-accent-blue">
                        <h4 class="text-xl font-semibold text-accent-blue mb-2">Our Galactic Vision</h4>
                        <p class="text-star-medium">To be the leading star in interstellar travel, making the cosmos accessible to all.</p>
                    </div>
                    <div class="p-6 bg-space-light rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border-l-4 border-accent-purple">
                        <h4 class="text-xl font-semibold text-accent-purple mb-2">Our Core Elements</h4>
                        <p class="text-star-medium">Safety, Exploration, Customer Experience.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- New: Your Stay Section -->
        <section id="your-stay-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-purple">Your Stay</h2>
                <p class="text-lg text-star-medium mb-6 max-w-3xl mx-auto">
                    The cost of the trip depends on the accommodation, food, planet to travel to, etc, as shown by the spreadsheet below:
                </p>
                <!-- Embedded Google Sheet -->
                <div class="relative w-full overflow-hidden" style="padding-top: 56.25%;">
                    <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSZEz8457xJFf18X-cKLR6zoWQ0NwP2J60MBB-5h597GA5vmMj5iD24B8BEHggrWQ-S2f3siVRAMgJU/pubhtml?widget=true&amp;headers=false" class="absolute top-0 left-0 w-full h-full border-0 rounded-lg shadow-md" allowfullscreen></iframe>
                </div>
            </div>
        </section>

        <!-- New: Gallery Section -->
        <section id="gallery-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Our Galactic Gallery</h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Gallery Image Item 1 -->
                    <div class="rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                        <img src="https://placehold.co/600x400/82aaff/1a082b?text=Voyage+View+1" alt="Space Voyage View 1" class="w-full h-auto object-cover">
                        <div class="p-4 bg-space-light text-star-medium">
                            <p class="font-semibold">Stunning Nebula</p>
                            <p class="text-sm">Captured during a deep space transit.</p>
                        </div>
                    </div>

                    <!-- Gallery Image Item 2 -->
                    <div class="rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                        <img src="https://placehold.co/600x400/bb86fc/1a082b?text=Planet+Landing+2" alt="Planet Landing 2" class="w-full h-auto object-cover">
                        <div class="p-4 bg-space-light text-star-medium">
                            <p class="font-semibold">Mars Outpost</p>
                            <p class="text-sm">Our advanced habitat on the Red Planet.</p>
                        </div>
                    </div>

                    <!-- Gallery Image Item 3 -->
                    <div class="rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                        <img src="https://placehold.co/600x400/402c58/f0f0f0?text=Astronaut+View+3" alt="Astronaut View 3" class="w-full h-auto object-cover">
                        <div class="p-4 bg-space-light text-star-medium">
                            <p class="font-semibold">Earth from Orbit</p>
                            <p class="text-sm">A breathtaking perspective of our home.</p>
                        </div>
                    </div>

                    <!-- Gallery Image Item 4 -->
                    <div class="rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                        <img src="https://placehold.co/600x400/2d1a42/d0d0d0?text=Galactic+View+4" alt="Galactic View 4" class="w-full h-auto object-cover">
                        <div class="p-4 bg-space-light text-star-medium">
                            <p class="font-semibold">Distant Galaxy</p>
                            <p class="text-sm">Exploring the edges of the known universe.</p>
                        </div>
                    </div>

                    <!-- Gallery Image Item 5 -->
                    <div class="rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                        <img src="https://placehold.co/600x400/bb86fc/ffffff?text=Spacecraft+Interior+5" alt="Spacecraft Interior 5" class="w-full h-auto object-cover">
                        <div class="p-4 bg-space-light text-star-medium">
                            <p class="font-semibold">Luxury Cabin</p>
                            <p class="text-sm">Experience comfort in zero-gravity.</p>
                        </div>
                    </div>

                    <!-- Gallery Image Item 6 -->
                    <div class="rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                        <img src="https://placehold.co/600x400/82aaff/ffffff?text=Alien+Landscape+6" alt="Alien Landscape 6" class="w-full h-auto object-cover">
                        <div class="p-4 bg-space-light text-star-medium">
                            <p class="font-semibold">Exotic Flora</p>
                            <p class="text-sm">A rare find on a newly discovered exoplanet.</p>
                        </div>
                    </div>

                    <!--
                        HOW TO ADD/REPLACE IMAGES:
                        1.  Replace 'src="https://placehold.co/..."' with the direct URL of your image.
                            Example: src="https://your-image-host.com/your-actual-image.jpg"
                        2.  Update the 'alt' attribute with a descriptive text for accessibility.
                        3.  Modify the text within the <p> tags inside the <div class="p-4..."> to describe your image.
                        4.  To add more images, copy and paste one of the `div` blocks above (starting with `<div class="rounded-lg overflow-hidden...")` and modify its content. The grid will automatically adjust.
                        5.  Ensure your images are reasonably sized for web display to maintain performance.
                    -->
                </div>
            </div>
        </section>

        <!-- Connect With Us Section for QR Code -->
        <section id="connect-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-purple">Connect with Us</h2>
                <p class="text-lg text-star-medium mb-6 max-w-3xl mx-auto">
                    Scan the QR code below or visit our links to stay updated on our latest voyages and offers!
                </p>
                <div class="flex flex-col items-center justify-center space-y-6">
                    <!-- Using the provided Dropbox link for the QR code image -->
                    <img src="https://previews.dropbox.com/p/thumb/ACp-GqUscVmTJaAcoTT7LWdhO5tJk2is9TqRXTKbte_Esebz1x-Z-6FTz_BqAAB3ZBk4hkCvG3IUv6m9I4UGtmjrSp7D5tezTgB-EKoL_3zkSLyKUBXTKhcFtBPIIf18_U1yDcGcvFUedWX4-R2nLo9oUge36z0qZHcJKTb5aXc_aEGYsznVuE0a9cjAv1euON_jrzZzcZJdEKcf83GoQAxdRviXq6rPfa0GgcRjRay2Fa1uWjviDTa4-jNnLbX1GfqPY4D7zdaIHpHyMh-rf7-IJxR8XLJo2gD3MqmZnzvvWgPak7xUK7VN6Lmx3A6AjfpUZAaYuJYZtn8b_EEZ-/p.png?is_prewarmed=true" alt="Connect with Us QR Code" class="max-w-xs md:max-w-sm rounded-lg shadow-xl border-4 border-accent-blue" onerror="this.onerror=null;this.src='https://placehold.co/250x250/2d1a42/f0f0f0?text=QR+Code+Not+Found';">
                    <div class="flex flex-col space-y-2 text-star-medium text-lg">
                        <a href="https://bit.ly/gemini-voyages" target="_blank" rel="noopener noreferrer" class="hover:text-accent-purple transition-colors duration-200">HTTPS://BIT.LY/GEMINI-VOYAGES</a>
                        <a href="https://bit.ly/gemini-voyages" target="_blank" rel="noopener noreferrer" class="hover:text-accent-purple transition-colors duration-200">HTTPS://BIT.LY/GEMINI-VOYAGES</a>
                        <a href="https://bit.ly/gemini-voyages" target="_blank" rel="noopener noreferrer" class="hover:text-accent-purple transition-colors duration-200">HTTPS://BIT.LY/GEMINI-VOYAGES</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Planet Sections -->
        <section id="mercury-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Destination: Mercury</h2>
                <img src="https://science.nasa.gov/wp-content/uploads/2023/02/mercury-scaled.jpg" alt="Mercury" class="mx-auto mt-8 rounded-lg shadow-md mb-8 w-full max-w-xl h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/2d1a42/f0f0f0?text=Image+Not+Found';">
                <div class="text-star-medium text-lg max-w-3xl mx-auto text-left space-y-4">
                    <p>
                        Mercury, the smallest planet in our solar system and the closest to the Sun, is a world of extremes. Its lack of a substantial atmosphere means it cannot trap heat effectively, leading to scorching daytime temperatures reaching up to 430°C (800°F) and frigid nighttime lows plummeting to -180°C (-290°F).
                    </p>
                    <p>
                        The surface of Mercury is heavily cratered, bearing a striking resemblance to Earth's Moon, a testament to intense bombardments from asteroids and comets early in the solar system's history. It also features vast plains, likely formed by ancient volcanic activity. Surprisingly, despite its proximity to the Sun, evidence from space probes like MESSENGER suggests the presence of water ice in permanently shadowed craters at its poles.
                    </p>
                    <p>
                        This small, dense planet has a molten core, giving it a weak magnetic field. Its rotation is unique: it completes three rotations for every two orbits around the Sun, resulting in a solar day (sunrise to sunrise) that is longer than its orbital period.
                    </p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Diameter:</strong> 4,879 km (approx. 0.38 Earths)</li>
                        <li><strong>Distance from Sun:</strong> 57.9 million km (0.39 AU)</li>
                        <li><strong>Rotation Period (Solar Day):</strong> 176 Earth days</li>
                        <li><strong>Orbital Period (Year Length):</strong> 88 Earth days</li>
                        <li><strong>Surface Gravity:</strong> 0.38 g (38% of Earth's)</li>
                        <li><strong>Atmosphere:</strong> Exosphere of atoms (primarily oxygen, sodium, hydrogen, helium, potassium)</li>
                    </ul>
                    <p>
                        A voyage to Mercury offers unparalleled insights into the formation and geological evolution of rocky planets in the inner solar system, and how planetary surfaces are shaped by the most intense solar conditions. It challenges our understanding of where water can persist and how dynamic even seemingly barren worlds can be.
                    </p>
                </div>
            </div>
        </section>

        <section id="venus-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Destination: Venus</h2>
                <img src="https://photojournal.jpl.nasa.gov/jpeg/PIA00158.jpg" alt="Venus" class="mx-auto mt-8 rounded-lg shadow-md mb-8 w-full max-w-xl h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/2d1a42/f0f0f0?text=Image+Not+Found';">
                <div class="text-star-medium text-lg max-w-3xl mx-auto text-left space-y-4">
                    <p>
                        Often dubbed Earth's "sister planet" due to its similar size, mass, and bulk composition, Venus is a world of stark and unwelcoming contrasts. It is perpetually shrouded by a dense, suffocating atmosphere primarily composed of carbon dioxide (about 96.5%) with clouds of sulfuric acid. This thick atmospheric blanket traps heat in a runaway greenhouse effect, making Venus the hottest planet in our solar system.
                    </p>
                    <p>
                        Surface temperatures on Venus consistently exceed 462°C (863°F), which is hot enough to melt lead and vaporize many metals. The atmospheric pressure at the surface is immense, more than 90 times that of Earth's sea level, equivalent to the pressure found nearly a kilometer deep in Earth's oceans. This combination of extreme heat and pressure makes direct surface exploration incredibly challenging for spacecraft.
                    </p>
                    <p>
                        Venus also exhibits a peculiar retrograde rotation, meaning it spins in the opposite direction to most other planets, and it does so very slowly. A single Venusian day is longer than its year! Its surface is dominated by extensive volcanic plains, vast shield volcanoes, and unique pancake-shaped domes, all features of intense past geological activity. Most surface features are named after women, including large highland regions like Aphrodite Terra and Ishtar Terra.
                    </p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Diameter:</strong> 12,104 km (approx. 0.95 Earths)</li>
                        <li><strong>Distance from Sun:</strong> 108.2 million km (0.72 AU)</li>
                        <li><strong>Rotation Period (Solar Day):</strong> 116.75 Earth days (retrograde)</li>
                        <li><strong>Orbital Period (Year Length):</strong> 225 Earth days</li>
                        <li><strong>Surface Gravity:</strong> 0.91 g (91% of Earth's)</li>
                        <li><strong>Atmosphere:</strong> Primarily Carbon Dioxide (96.5%), Sulfuric Acid Clouds</li>
                    </ul>
                    <p>
                        Traveling to Venus offers a unique, albeit challenging, glimpse into a planet's dramatic climatic transformation and serves as a powerful reminder of the delicate balance required for habitability in a solar system. It remains a key target for studying atmospheric dynamics and the potential consequences of extreme greenhouse effects.
                    </p>
                </div>
            </div>
        </section>

        <section id="earth-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Destination: Earth</h2>
                <img src="https://visibleearth.nasa.gov/images/57730/the-blue-marble-2012/57730_full.jpg" alt="Earth" class="mx-auto mt-8 rounded-lg shadow-md mb-8 w-full max-w-xl h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/2d1a42/f0f0f0?text=Image+Not+Found';">
                <div class="text-star-medium text-lg max-w-3xl mx-auto text-left space-y-4">
                    <p>
                        Our home planet, Earth, is a vibrant oasis in the cosmos, a "Blue Marble" teeming with diverse life and characterized by vast liquid water oceans, dynamic continents, and a complex, life-sustaining atmosphere. It is the only known celestial body to harbor significant amounts of liquid water on its surface, an absolute prerequisite for all known forms of life.
                    </p>
                    <p>
                        Earth's atmosphere, primarily composed of nitrogen (78%) and oxygen (21%), provides a crucial protective shield against harmful solar and cosmic radiation. This atmosphere also plays a vital role in regulating the planet's temperature through the greenhouse effect, maintaining a moderate and stable climate suitable for life. Beyond its atmosphere, Earth boasts a robust magnetic field, generated by its liquid outer core, which further deflects harmful solar winds.
                    </p>
                    <p>
                        Geologically, Earth is incredibly active, with plate tectonics constantly reshaping its surface, creating mountains, volcanoes, and ocean trenches. Its surface is a mosaic of varied biomes, from scorching deserts and dense rainforests to polar ice caps and vast grasslands, each supporting unique ecosystems. The planet is orbited by one large natural satellite, the Moon, which influences tides and stabilizes Earth's axial tilt.
                    </p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Diameter:</strong> 12,756 km</li>
                        <li><strong>Distance from Sun:</strong> 149.6 million km (1 AU)</li>
                        <li><strong>Rotation Period (Day Length):</strong> 24 hours</li>
                        <li><strong>Orbital Period (Year Length):</strong> 365.25 days</li>
                        <li><strong>Surface Gravity:</strong> 1 g</li>
                        <li><strong>Atmosphere:</strong> Nitrogen (78%), Oxygen (21%), Argon, Carbon Dioxide, trace gases</li>
                        <li><strong>Moons:</strong> 1 (The Moon)</li>
                    </ul>
                    <p>
                        A journey to appreciate Earth provides a profound perspective on the unique conditions that foster life and the intricate balance of geological and atmospheric processes that make our planet truly special. It serves as a reminder of the preciousness and fragility of our home in the universe.
                    </p>
                </div>
            </div>
        </section>

        <section id="mars-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Destination: Mars</h2>
                <img src="https://mars.nasa.gov/system/resources/detail_files/24785_PIA24785-web.jpg" alt="Mars" class="mx-auto mt-8 rounded-lg shadow-md mb-8 w-full max-w-xl h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/2d1a42/f0f0f0?text=Image+Not+Found';">
                <div class="text-star-medium text-lg max-w-3xl mx-auto text-left space-y-4">
                    <p>
                        Known as the "Red Planet" due to the iron oxide prevalent on its surface, Mars has captivated humanity's imagination for centuries as a potential second home and a site for extraterrestrial life. Its landscape features striking resemblances to Earth, including polar ice caps (made of water ice and frozen carbon dioxide), vast canyons, and ancient riverbeds and deltas, which strongly suggest the presence of abundant liquid water in its distant past.
                    </p>
                    <p>
                        Mars is home to the solar system's largest volcano, Olympus Mons, a massive shield volcano that stands nearly 25 km (15.5 miles) high, almost three three times the height of Mount Everest. It also boasts Valles Marineris, an enormous canyon system stretching over 4,000 km (2,500 miles) across the planet. The Martian atmosphere is very thin, composed primarily of carbon dioxide (95%), making it too thin for liquid water to persist on the surface for long. Despite this, the planet experiences dynamic weather phenomena, including planet-encircling dust storms and smaller dust devils.
                    </p>
                    <p>
                        Numerous robotic missions, including rovers like Curiosity and Perseverance, have extensively explored the Martian surface, providing invaluable data in the ongoing search for biosignatures (signs of past or present life) and assessing its potential for future human colonization. These missions have confirmed the presence of ancient water and organic molecules, fueling excitement about Mars's habitability potential.
                    </p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Diameter:</strong> 6,779 km (approx. 0.53 Earths)</li>
                        <li><strong>Distance from Sun:</strong> 227.9 million km (1.52 AU)</li>
                        <li><strong>Rotation Period (Day Length):</strong> 24.6 hours (a "sol")</li>
                        <li><strong>Orbital Period (Year Length):</strong> 687 Earth days (1.88 Earth years)</li>
                        <li><strong>Surface Gravity:</strong> 0.38 g (38% of Earth's)</li>
                        <li><strong>Atmosphere:</strong> Primarily Carbon Dioxide (95.3%), Nitrogen (2.7%)</li>
                        <li><strong>Moons:</strong> 2 (Phobos, Deimos - likely captured asteroids)</li>
                    </ul>
                    <p>
                        Our voyages to Mars will allow you to witness firsthand the rugged, alien beauty of this world, offering a profound connection to humanity's ongoing quest to understand our place in the universe and expand our presence beyond Earth.
                    </p>
                </div>
            </div>
        </section>

        <section id="jupiter-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Destination: Jupiter</h2>
                <img src="https://www.missionjuno.swri.edu/media-gallery/jupiter/PIA07783_full.jpg" alt="Jupiter" class="mx-auto mt-8 rounded-lg shadow-md mb-8 w-full max-w-xl h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/2d1a42/f0f0f0?text=Image+Not+Found';">
                <div class="text-star-medium text-lg max-w-3xl mx-auto text-left space-y-4">
                    <p>
                        Jupiter, the colossal king of our solar system, is a gas giant of unparalleled scale, dwarfing all other planets combined. Its swirling, colorful atmosphere is a dynamic tapestry of hydrogen (about 90%) and helium, laced with trace amounts of methane, ammonia, and water. These elements form distinct cloud bands and zones, driven by incredibly fast winds.
                    </p>
                    <p>
                        The most iconic feature of Jupiter is the Great Red Spot, a colossal anticyclonic storm larger than Earth that has raged for at least 350 years, and possibly much longer. Beneath its vibrant clouds, Jupiter is thought to have a core of dense, super-hot material, possibly rocky, surrounded by layers of metallic hydrogen and liquid hydrogen. Its rapid rotation (completing a day in just under 10 hours) contributes to its flattened appearance at the poles.
                    </p>
                    <p>
                        Jupiter plays a crucial role in the solar system's dynamics, acting as a gravitational "bouncer" that deflects comets and asteroids away from the inner planets. It possesses a faint ring system, primarily composed of dust particles, and a vast retinue of at least 95 known moons. Among these are the four Galilean moons—Io, Europa, Ganymede, and Callisto—each a fascinating world in its own right. Io is the most volcanically active body in the solar system; Europa is believed to harbor a vast subsurface ocean of liquid water, making it a prime candidate for life; Ganymede is the largest moon in the solar system, even bigger than Mercury, and possesses its own magnetic field; and Callisto is a heavily cratered, geologically inactive world.
                    </p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Diameter:</strong> 139,822 km (approx. 11 Earths)</li>
                        <li><strong>Distance from Sun:</strong> 778.5 million km (5.2 AU)</li>
                        <li><strong>Rotation Period (Day Length):</strong> 9.9 hours</li>
                        <li><strong>Orbital Period (Year Length):</strong> 11.86 Earth years</li>
                        <li><strong>Surface Gravity (Cloud Tops):</strong> 2.53 g (253% of Earth's)</li>
                        <li><strong>Atmosphere:</strong> Hydrogen (~90%), Helium (~10%)</li>
                        <li><strong>Known Moons:</strong> 95+</li>
                    </ul>
                    <p>
                        A journey to Jupiter promises awe-inspiring views of its vibrant cloud bands, an encounter with its legendary storms, and a deeper understanding of gas giant dynamics and the potential for diverse worlds within a single planetary system. It is a testament to the immense and powerful forces at play in our cosmic neighborhood.
                    </p>
                </div>
            </div>
        </section>

        <section id="saturn-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Destination: Saturn</h2>
                <img src="https://www.nasa.gov/sites/default/files/thumbnails/image/saturn_with_rings_from_cassini_full.jpg" alt="Saturn" class="mx-auto mt-8 rounded-lg shadow-md mb-8 w-full max-w-xl h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/2d1a42/f0f0f0?text=Image+Not+Found';">
                <div class="text-star-medium text-lg max-w-3xl mx-auto text-left space-y-4">
                    <p>
                        Saturn is arguably the most recognizable and visually stunning planet in our solar system, famed for its breathtaking and intricate system of icy rings. These magnificent rings are not solid, but rather composed of billions of small particles, ranging in size from tiny dust grains to house-sized boulders, all orbiting the planet like countless tiny moons. They are predominantly made of water ice, with traces of rocky material.
                    </p>
                    <p>
                        As the second-largest gas giant, Saturn is primarily made of hydrogen (96%) and helium, and it holds the unique distinction of being the least dense planet in our solar system—so light, in fact, that it would float in a bathtub if one were large enough! Its upper atmosphere features subtle cloud bands and fast winds, but it is generally less dynamically active than Jupiter's. A mysterious hexagonal storm, larger than Earth, persists at its north pole.
                    </p>
                    <p>
                        Saturn boasts a vast family of at least 146 known moons, with new discoveries still being made. Its largest moon, Titan, is a world of immense scientific interest. Larger than Mercury, Titan is the only moon in the solar system known to have a dense atmosphere, which supports a methane cycle, complete with clouds, rain, rivers, lakes, and seas of liquid methane and ethane. Another notable moon is Enceladus, which has active geysers erupting water vapor and ice particles from its south pole, indicating a subsurface ocean of liquid water with hydrothermal activity.
                    </p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Diameter:</strong> 116,460 km (approx. 9.1 Earths)</li>
                        <li><strong>Distance from Sun:</strong> 1.4 billion km (9.5 AU)</li>
                        <li><strong>Rotation Period (Day Length):</strong> 10.7 hours</li>
                        <li><strong>Orbital Period (Year Length):</strong> 29.45 Earth years</li>
                        <li><strong>Surface Gravity (Cloud Tops):</strong> 1.07 g (107% of Earth's)</li>
                        <li><strong>Atmosphere:</strong> Hydrogen (~96%), Helium (~3%)</li>
                        <li><strong>Known Moons:</strong> 146+ (including Titan and Enceladus)</li>
                    </ul>
                    <p>
                        Witnessing Saturn's majestic rings up close and exploring its diverse moon system is a truly unforgettable experience, a testament to the wonders of the cosmos and the incredible variety of worlds within our own solar system.
                    </p>
                </div>
            </div>
        </section>

        <section id="uranus-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Destination: Uranus</h2>
                <img src="https://esawebb.org/media/images/weic2310a/Uranus_NIRCam_zoomed_in.jpg" alt="Uranus" class="mx-auto mt-8 rounded-lg shadow-md mb-8 w-full max-w-xl h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/2d1a42/f0f0f0?text=Image+Not+Found';">
                <div class="text-star-medium text-lg max-w-3xl mx-auto text-left space-y-4">
                    <p>
                        Uranus, the seventh planet from the Sun, is an enigmatic ice giant distinguished by its unique axial tilt, causing it to effectively orbit the Sun on its side. This extreme tilt (97.77 degrees) results in highly unusual seasonal variations, with each pole experiencing decades of continuous sunlight followed by decades of continuous darkness.
                    </p>
                    <p>
                        Its atmosphere is rich in methane (which absorbs red light and gives the planet its striking blue-green hue), hydrogen, and helium. Unlike Jupiter and Saturn, Uranus lacks a defined solid surface, instead transitioning from a gaseous outer atmosphere to a super-dense, hot fluid icy interior composed of water, ammonia, and methane ices. Its magnetic field is also highly unusual, tilted relative to its rotation axis and originating from a different part of its interior than Earth's.
                    </p>
                    <p>
                        Uranus possesses a faint system of 13 known rings, which are narrow and dark, making them difficult to observe. These rings are thought to be relatively young. It also has a family of 27 known moons, ranging from small, dark irregular satellites to larger, classical moons like Titania, Oberon, Umbriel, Ariel, and Miranda, each displaying unique geological features from ancient cratering to bizarre, fractured terrains. The gravitational influence of two small "shepherd moons" (Cordelia and Ophelia) helps to keep the narrow epsilon ring in place.
                    </p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Diameter:</strong> 50,724 km (approx. 4 Earths)</li>
                        <li><strong>Distance from Sun:</strong> 2.9 billion km (19.8 AU)</li>
                        <li><strong>Rotation Period (Day Length):</strong> 17.2 hours (retrograde rotation)</li>
                        <li><strong>Orbital Period (Year Length):</strong> 84 Earth years</li>
                        <li><strong>Surface Gravity:</strong> 0.89 g (89% of Earth's)</li>
                        <li><strong>Atmosphere:</strong> Hydrogen (~82.5%), Helium (~15.2%), Methane (~2.3%)</li>
                        <li><strong>Known Moons:</strong> 27</li>
                    </ul>
                    <p>
                        A journey to Uranus is an encounter with one of the solar system's most enigmatic and beautifully understated ice giants, offering profound insights into the formation and evolution of planets in the outer reaches of a star system.
                    </p>
                </div>
            </div>
        </section>

        <section id="neptune-section" class="content-section py-16 px-6 bg-space-medium rounded-lg shadow-lg my-8">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-accent-blue">Destination: Neptune</h2>
                <img src="https://science.nasa.gov/wp-content/uploads/2023/02/neptune-scaled.jpg" alt="Neptune" class="mx-auto mt-8 rounded-lg shadow-md mb-8 w-full max-w-xl h-auto object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x300/2d1a42/f0f0f0?text=Image+Not+Found';">
                <div class="text-star-medium text-lg max-w-3xl mx-auto text-left space-y-4">
                    <p>
                        Neptune, the outermost known major planet in our solar system, is a deep blue ice giant, known for its fierce, supersonic winds and dynamic, rapidly changing storm systems. Its striking azure color is attributed to the presence of methane in its atmosphere, which absorbs red light.
                    </p>
                    <p>
                        Despite its vast distance from the Sun, Neptune is a remarkably active world. It experiences the strongest winds in the solar system, reaching speeds up to 2,100 km/h (1,300 mph). These winds whip through its atmosphere, driving large dark spots (like the transient "Great Dark Spot" observed by Voyager 2) which are colossal storms, though shorter-lived than Jupiter's Great Red Spot. Like Uranus, Neptune's interior is composed of a super-dense mixture of water, ammonia, and methane ices.
                    </p>
                    <p>
                        Neptune possesses a faint and fragmented ring system, originally thought to be partial arcs, but later confirmed to be complete rings. It has 14 known moons, named after minor water deities. Its largest moon, Triton, is particularly intriguing: it orbits Neptune in a retrograde direction (opposite to the planet's rotation) and is one of the coldest objects in the solar system. Triton exhibits active cryovolcanism, erupting nitrogen ice and dust, suggesting a geologically active interior even at such frigid temperatures. Triton is gradually spiraling inward and is predicted to eventually be torn apart by Neptune's gravity.
                    </p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Diameter:</strong> 49,244 km (approx. 3.8 Earths)</li>
                        <li><strong>Distance from Sun:</strong> 4.5 billion km (30.1 AU)</li>
                        <li><strong>Rotation Period (Day Length):</strong> 16.1 hours</li>
                        <li><strong>Orbital Period (Year Length):</strong> 164.8 Earth years</li>
                        <li><strong>Surface Gravity:</strong> 1.14 g (114% of Earth's)</li>
                        <li><strong>Atmosphere:</strong> Hydrogen (~80%), Helium (~19%), Methane (~1.5%)</li>
                        <li><strong>Known Moons:</strong> 14 (including Triton)</li>
                    </ul>
                    <p>
                        Venturing to Neptune is an exploration of the distant, turbulent frontiers of our solar system, a testament to the enduring power and beauty of the universe, and the surprising activity that can exist even in the furthest reaches.
                    </p>
                </div>
            </div>
        </section>

        <!-- Quiz Page Section -->
        <section id="quiz-page-section" class="content-section py-8 px-6 my-8 flex justify-center items-center">
            <div class="quiz-page-container w-full">
                <h1 class="text-4xl md:text-5xl font-bold text-center mb-8 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 drop-shadow-lg animate-pulse">
                    Planet Trivia Quiz!
                </h1>

                <div id="quiz-container" class="space-y-6 w-full max-w-xl mx-auto">
                    <!-- Questions will be loaded here by JavaScript -->
                </div>

                <div class="flex justify-center mt-8">
                    <button id="submit-quiz-btn" class="submit-button">
                        Submit Quiz
                    </button>
                </div>

                <div id="results-container" class="mt-10 p-6 bg-purple-900 bg-opacity-70 rounded-2xl shadow-xl hidden border border-purple-700 w-full max-w-xl mx-auto">
                    <h2 class="text-3xl font-semibold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-300 to-cyan-300">
                        Your Results
                    </h2>
                    <p id="score-display" class="text-xl text-center mb-6 text-gray-200">
                        You scored: <span class="font-bold text-yellow-300"></span>
                    </p>
                    <div id="feedback-details" class="space-y-4">
                        <!-- Detailed feedback will go here -->
                    </div>
                    <div class="flex justify-center mt-6">
                        <button id="retake-quiz-btn" class="submit-button">
                            Retake Quiz
                        </button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="text-star-medium py-10 px-6 rounded-t-lg mt-8" style="background-color: var(--footer-bg);">
        <div class="container mx-auto text-center">
            <p class="text-lg mb-4">&copy; 2025 Gemini Voyages. All rights reserved.</p>
        </div>
    </footer>

    <!-- Main site general modal for button clicks -->
    <div id="actionModal" class="modal hidden">
        <div class="modal-content">
            <!-- Removed the close button "X" -->
            <h3 class="text-2xl font-bold mb-4 text-star-light" id="modalTitle"></h3>
            <p class="text-star-medium mb-6" id="modalMessage"></p>
            <button id="modalProceedBtn" class="bg-accent-purple hover:bg-opacity-90 text-white font-semibold py-2 px-6 rounded-lg shadow-md transition duration-300 ease-in-out button-glow transform active:scale-95">
                Proceed
            </button>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get all interactive elements
            const aboutUsBtn = document.getElementById('aboutUsBtn');
            const learnMoreBtn = document.getElementById('learnMoreBtn');
            const navLinks = document.querySelectorAll('.nav-link');
            const allContentSections = document.querySelectorAll('.content-section');


            // Main site general modal elements
            const actionModal = document.getElementById('actionModal');
            const modalProceedBtn = document.getElementById('modalProceedBtn');
            const modalTitle = document.getElementById('modalTitle');
            const modalMessage = document.getElementById('modalMessage');

            // Quiz elements
            const quizAnnouncementBanner = document.getElementById('quizAnnouncementBanner');
            const openQuizBtn = document.getElementById('openQuizBtn');
            const quizPageSection = document.getElementById('quiz-page-section');
            const quizContainer = quizPageSection.querySelector('#quiz-container');
            const submitQuizButton = quizPageSection.querySelector('#submit-quiz-btn');
            const resultsContainer = quizPageSection.querySelector('#results-container');
            const scoreDisplay = resultsContainer.querySelector('#score-display span');
            const feedbackDetails = resultsContainer.querySelector('#feedback-details');
            const retakeQuizButton = resultsContainer.querySelector('#retake-quiz-btn');

            // Special elements for the "Planets" dropdown
            const planetsDropdownToggle = document.getElementById('planetsDropdownToggle');
            const planetsDropdownContainer = planetsDropdownToggle.closest('.dropdown');
            const dropdownArrow = planetsDropdownToggle.querySelector('.dropdown-arrow');
            const dropdownContent = planetsDropdownContainer.querySelector('.dropdown-content');

            // Theme Toggle elements
            const themeToggleBtn = document.getElementById('themeToggleBtn');
            const moonIcon = document.getElementById('moonIcon');
            const sunIcon = document.getElementById('sunIcon');

            // Audio element
            const backgroundMusic = document.getElementById('backgroundMusic');

            // Variable to track which button opened the modal
            let modalSourceButton = null;

            // Quiz Questions Data
            const quizQuestions = [
                {
                    question: "1. Which planet is known as the 'Red Planet'?",
                    options: ["a) Venus", "b) Mars", "c) Jupiter", "d) Saturn"],
                    answer: "b) Mars"
                },
                {
                    question: "2. What is the largest planet in our solar system?",
                    options: ["a) Earth", "b) Neptune", "c) Jupiter", "d) Uranus"],
                    answer: "c) Jupiter"
                },
                {
                    question: "3. Which planet is closest to the Sun?",
                    options: ["a) Earth", "b) Venus", "c) Mercury", "d) Mars"],
                    answer: "c) Mercury"
                },
                {
                    question: "4. Which planet is famous for its prominent ring system?",
                    options: ["a) Jupiter", "b) Uranus", "c) Neptune", "d) Saturn"],
                    answer: "d) Saturn"
                },
                {
                    question: "5. How many moons does Earth have?",
                    options: ["a) Zero", "b) One", "c) Two", "d) Five"],
                    answer: "b) One"
                },
                {
                    question: "6. Which planet is known as Earth's 'sister planet' due to its similar size and composition?",
                    options: ["a) Mars", "b) Venus", "c) Mercury", "d) Jupiter"],
                    answer: "b) Venus"
                },
                {
                    question: "7. What is the coldest planet in our solar system?",
                    options: ["a) Mars", "b) Uranus", "c) Neptune", "d) Pluto (though no longer classified as a planet, it's often associated with this title)"],
                    answer: "c) Neptune"
                },
                {
                    question: "8. Which planet has the 'Great Red Spot,' a giant storm larger than Earth?",
                    options: ["a) Mars", "b) Saturn", "c) Jupiter", "d) Neptune"],
                    answer: "c) Jupiter"
                },
                {
                    question: "9. Which is the only planet in our solar system not named after a god or goddess?",
                    options: ["a) Mars", "b) Earth", "c) Venus", "d) Jupiter"],
                    answer: "b) Earth"
                },
                {
                    question: "10. Which planet rotates on its side, almost at a 90-degree angle to its orbit?",
                    options: ["a) Mars", "b) Saturn", "c) Uranus", "d) Neptune"],
                    answer: "c) Uranus"
                },
                {
                    question: "11. Which planet is known for having the most extreme temperature swings between day and night?",
                    options: ["a) Venus", "b) Mars", "c) Mercury", "d) Earth"],
                    answer: "c) Mercury"
                },
                {
                    question: "12. What is the most volcanically active body in our solar system (besides the Sun)?",
                    options: ["a) Earth", "b) Mars", "c) Io (moon of Jupiter)", "d) Venus"],
                    answer: "c) Io (moon of Jupiter)"
                },
                {
                    question: "13. Which gas makes up the majority of Jupiter's atmosphere?",
                    options: ["a) Oxygen", "b) Nitrogen", "c) Hydrogen", "d) Carbon Dioxide"],
                    answer: "c) Hydrogen"
                },
                {
                    question: "14. Which planet has a day that is longer than its year?",
                    options: ["a) Earth", "b) Mars", "c) Venus", "d) Mercury"],
                    answer: "c) Venus"
                },
                {
                    question: "15. Besides Earth, which planet is considered the most likely to harbor life due to the potential presence of liquid water?",
                    options: ["a) Venus", "b) Jupiter", "c) Mars", "d) Saturn"],
                    answer: "c) Mars"
                },
                {
                    question: "16. Which of the following is an inner, rocky planet?",
                    options: ["a) Jupiter", "b) Saturn", "c) Neptune", "d) Mars"],
                    answer: "d) Mars"
                },
                {
                    question: "17. Which planet has the most extensive system of rings, composed of countless ice particles?",
                    options: ["a) Jupiter", "b) Uranus", "c) Saturn", "d) Neptune"],
                    answer: "c) Saturn"
                },
                {
                    question: "18. What phenomenon causes Venus to be the hottest planet, despite not being the closest to the Sun?",
                    options: ["a) Its rapid rotation", "b) Its strong magnetic field", "c) A runaway greenhouse effect", "d) Its proximity to a black hole"],
                    answer: "c) A runaway greenhouse effect"
                },
                {
                    question: "19. Which of these planets is an ice giant?",
                    options: ["a) Jupiter", "b) Saturn", "c) Uranus", "d) Mars"],
                    answer: "c) Uranus"
                },
                {
                    question: "20. What is the name of the largest moon of Saturn, known for having a dense atmosphere and lakes of liquid methane?",
                    options: ["a) Europa", "b) Ganymede", "c) Titan", "d) Triton"],
                    answer: "c) Titan"
                }
            ];


            // Function to show the general action modal
            const showActionModal = (title, message, sourceButtonId = null) => {
                modalTitle.textContent = title;
                modalMessage.textContent = message;
                actionModal.style.display = 'flex'; // Make sure it's flex for centering
                modalSourceButton = sourceButtonId; // Store which button opened the modal
            };

            // Function to hide the general action modal
            const hideActionModal = () => {
                actionModal.style.display = 'none'; // Hide it
                // After modal hides, check if it was opened by learnMoreBtn to render quiz
                if (modalSourceButton === 'learnMoreBtn') {
                    renderQuiz();
                }
                modalSourceButton = null; // Reset the source button
            };

            // Function to dynamically update header positions and body padding
            const updateHeaderPositions = () => {
                const banner = document.getElementById('quizAnnouncementBanner');
                const navElement = document.querySelector('nav');

                if (!banner || !navElement) {
                    console.error("Banner or Navigation element not found. Cannot update header positions.");
                    return;
                }

                requestAnimationFrame(() => {
                    const bannerHeight = banner.offsetHeight;
                    const navHeight = navElement.offsetHeight;
                    // The marquee is now within the main content flow, not part of the fixed header height calculation
                    const totalHeaderHeight = bannerHeight + navHeight;

                    navElement.style.top = `${bannerHeight}px`;
                    // Use scroll-padding-top for smooth and accurate scrolling to anchored sections
                    document.documentElement.style.scrollPaddingTop = `${totalHeaderHeight}px`;
                    // Also adjust body padding-top for initial content display
                    document.body.style.paddingTop = `${totalHeaderHeight}px`;

                    console.log(`[Header Update] Banner Height: ${bannerHeight}px`);
                    console.log(`[Header Update] Nav Height: ${navHeight}px`);
                    console.log(`[Header Update] Scroll Padding Top: ${totalHeaderHeight}px`);
                });
            };


            // Function to show a specific content section and hide others
            const showSection = (sectionId) => {
                console.log(`Attempting to show section: ${sectionId}`);
                let targetSectionFound = false;
                allContentSections.forEach(section => {
                    if (section.id === sectionId) {
                        section.classList.add('active');
                        targetSectionFound = true;
                        console.log(`Section '${section.id}' activated.`);
                    } else {
                        section.classList.remove('active');
                        console.log(`Section '${section.id}' deactivated.`);
                    }
                });

                if (!targetSectionFound) {
                    console.warn(`Section with ID '${sectionId}' not found. No section will be active.`);
                    // If the target section isn't found, no section will be active, which might lead to a blank-looking page.
                    // This log helps identify if an incorrect ID is being passed.
                }

                const targetSection = document.getElementById(sectionId);
                if (targetSection) {
                    requestAnimationFrame(() => {
                        targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        console.log(`Scrolled to section: ${sectionId}`);
                    });
                } else {
                    console.error(`Attempted to scroll to non-existent section: ${sectionId}`);
                }
            };

            // Initial section display
            console.log("DOM Content Loaded. Initializing home section.");
            showSection('home-section');

            // Event Listeners for main site Buttons (with modals reinstated)
            if (aboutUsBtn) {
                aboutUsBtn.addEventListener('click', () => {
                    showSection('about');
                    showActionModal('About Us', 'Unveiling our origin story. Proceeding to the About Us page.', 'aboutUsBtn');
                });
            }

            if (learnMoreBtn) {
                learnMoreBtn.addEventListener('click', () => {
                    showSection('quiz-page-section'); // Link to quiz section
                    showActionModal('Test your Knowledge', 'Are you up for the challenge? Proceeding to the quiz.', 'learnMoreBtn'); // Store source button ID
                });
            }

            // Event Listeners for Navigation Links (SPA behavior)
            navLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault(); // Prevent default link behavior
                    console.log("Navigation link clicked.");

                    const clickedLinkElement = event.currentTarget;
                    const href = clickedLinkElement.getAttribute('href');
                    console.log(`Clicked link href: ${href}`);

                    if (href === null) {
                        console.error("Error: Clicked navigation link is missing its href attribute.", clickedLinkElement);
                        return;
                    }

                    // For the logo and home link, ensure it always goes to 'home-section'
                    const targetId = href.substring(1);
                    if (targetId === '' || targetId === 'home') { // Handles both empty hash and #home
                        showSection('home-section');
                    } else {
                        showSection(targetId);
                    }


                    // Close dropdown if it's open and a planet link was clicked
                    if (planetsDropdownContainer.classList.contains('open')) {
                        console.log("Closing planets dropdown.");
                        planetsDropdownContainer.classList.remove('open');
                    }
                });
            });

            // Event listener for the "Planets" dropdown toggle (click-based)
            if (planetsDropdownToggle) {
                planetsDropdownToggle.addEventListener('click', (event) => {
                    event.preventDefault(); // Stop default hash link behavior
                    planetsDropdownContainer.classList.toggle('open'); // Toggle 'open' class
                });

                // Close dropdown when clicking anywhere outside of it
                document.addEventListener('click', (event) => {
                    // Check if the click occurred outside the dropdown container AND outside the toggle button itself
                    if (planetsDropdownContainer.classList.contains('open') &&
                        !planetsDropdownContainer.contains(event.target) &&
                        !planetsDropdownToggle.contains(event.target)) {
                        planetsDropdownContainer.classList.remove('open');
                    }
                });
            }


            // Event Listeners for General Modal "Proceed" Button
            if (modalProceedBtn) { // Using the new ID
                modalProceedBtn.addEventListener('click', hideActionModal);
            }

            // Close general modal if clicking outside the content
            if (actionModal) {
                actionModal.addEventListener('click', (event) => {
                    if (event.target === actionModal) {
                        hideActionModal();
                    }
                });
            }

            // --- Quiz Page Logic ---

            // Open Quiz button listener
            if (openQuizBtn) {
                openQuizBtn.addEventListener('click', () => {
                    showSection('quiz-page-section');
                    renderQuiz();
                });
            }

            /**
             * Renders the quiz questions and options into the HTML.
             */
            function renderQuiz() {
                quizContainer.innerHTML = ''; // Clear previous questions
                quizQuestions.forEach((q, index) => {
                    const questionDiv = document.createElement('div');
                    questionDiv.classList.add('question-card', 'p-6', 'rounded-xl', 'shadow-md', 'mb-6', 'border', 'border-indigo-800', 'hover:border-indigo-600', 'transition-all');
                    questionDiv.innerHTML = `
                        <p class="text-xl md:text-2xl font-medium mb-4" style="color: var(--quiz-text);">${q.question}</p>
                        <div class="options space-y-3">
                            ${q.options.map((option, optIndex) => `
                                <label class="block text-lg" style="color: var(--quiz-text); transition: color 0.2s ease;">
                                    <input type="radio" name="question${index}" value="${option}" class="mr-3">
                                    ${option}
                                </label>
                            `).join('')}
                        </div>
                    `;
                    quizContainer.appendChild(questionDiv);
                });
                quizContainer.classList.remove('hidden');
                submitQuizButton.classList.remove('hidden');
                resultsContainer.classList.add('hidden');
            }

            /**
             * Calculates the score and displays results.
             */
            function showResults() {
                let score = 0;
                feedbackDetails.innerHTML = '';

                quizQuestions.forEach((q, index) => {
                    const selectedInput = quizContainer.querySelector(`input[name="question${index}"]:checked`);
                    const userAnswer = selectedInput ? selectedInput.value : null;

                    const feedbackDiv = document.createElement('div');
                    feedbackDiv.classList.add('p-3', 'rounded-lg', 'border', 'mb-2');

                    if (userAnswer === q.answer) {
                        score++;
                        feedbackDiv.classList.add('bg-green-900');
                        feedbackDiv.innerHTML = `<p class="font-bold text-green-300">✅ Correct! </p><p class="text-sm" style="color: var(--quiz-text);">${q.question} <br> Your Answer: ${userAnswer}</p>`;
                    } else {
                        feedbackDiv.classList.add('bg-red-900');
                        feedbackDiv.innerHTML = `
                            <p class="font-bold text-red-300">❌ Incorrect!</p>
                            <p class="text-sm" style="color: var(--quiz-text);">${q.question}</p>
                            <p class="text-sm" style="color: var(--quiz-text);">Your Answer: <span class="font-semibold">${userAnswer || 'No Answer'}</span></p>
                            <p class="text-sm" style="color: var(--quiz-text);">Correct Answer: <span class="font-semibold text-green-400">✅ ${q.answer}</span></p>
                        `;
                    }
                    feedbackDetails.appendChild(feedbackDiv);
                });

                scoreDisplay.textContent = `${score} out of ${quizQuestions.length}`;
                resultsContainer.classList.remove('hidden');
                quizContainer.classList.add('hidden');
                submitQuizButton.classList.add('hidden');
                resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            /**
             * Resets the quiz for a new attempt.
             */
            function retakeQuiz() {
                quizContainer.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.checked = false;
                });

                resultsContainer.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                submitQuizButton.classList.remove('hidden');
                feedbackDetails.innerHTML = '';
                quizPageSection.scrollTop = 0;
                quizPageSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // Event Listeners for Quiz buttons
            submitQuizButton.addEventListener('click', showResults);
            retakeQuizButton.addEventListener('click', retakeQuiz);


            // Audio control logic: Autoplay with fallback for user interaction
            const playAudioWithFallback = () => {
                backgroundMusic.play().then(() => {
                    console.log("Audio started playing successfully.");
                    document.body.removeEventListener('click', playAudioWithFallback);
                    document.body.removeEventListener('scroll', playAudioWithFallback);
                }).catch(error => {
                    console.warn("Audio autoplay blocked, waiting for user interaction:", error);
                    // FIX: Changed .has to .hasAttribute
                    if (!document.body.hasAttribute('data-audio-listener-added')) {
                        document.body.addEventListener('click', playAudioWithFallback, { once: true });
                        document.body.addEventListener('scroll', playAudioWithFallback, { once: true });
                        document.body.setAttribute('data-audio-listener-added', 'true');
                    }
                });
            };

            playAudioWithFallback();


            // --- Theme Toggle Logic ---
            const applyTheme = (isLightMode) => {
                if (isLightMode) {
                    document.body.classList.add('light-mode');
                    moonIcon.style.display = 'none';
                    sunIcon.style.display = 'block';
                } else {
                    document.body.classList.remove('light-mode');
                    moonIcon.style.display = 'block';
                    sunIcon.style.display = 'none';
                }
            };

            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                applyTheme(true);
            } else {
                applyTheme(false);
            }

            themeToggleBtn.addEventListener('click', () => {
                const isLightMode = document.body.classList.contains('light-mode');
                applyTheme(!isLightMode);
                localStorage.setItem('theme', !isLightMode ? 'light' : 'dark');
            });


            // --- Three.js Rippling Stars Effect ---
            let scene, camera, renderer, points, material;
            let mouseX = 0, mouseY = 0;
            let isDragging = false;
            let previousMouseX = 0;
            let previousMouseY = 0;

            const canvas = document.getElementById('threeJsCanvas');
            let animationFrameId;

            const boxSize = 30;


            const initThreeJs = () => {
                const width = window.innerWidth;
                const height = window.innerHeight;

                scene = new THREE.Scene();

                camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 100);
                camera.position.z = 10;

                renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
                renderer.setSize(width, height);
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setClearAlpha(0);

                const numStars = 15000;
                const positions = new Float32Array(numStars * 3);
                const sizes = new Float32Array(numStars);
                const colors = new Float32Array(numStars * 3);

                const starColors = [
                    new THREE.Color(0xffffff),
                    new THREE.Color(0xadd8e6),
                    new THREE.Color(0xffe4b5),
                    new THREE.Color(0xd8bfd8),
                    new THREE.Color(0xffa07a)
                ];

                for (let i = 0; i < numStars; i++) {
                    positions[i * 3] = (Math.random() * 2 - 1) * boxSize;
                    positions[i * 3 + 1] = (Math.random() * 2 - 1) * boxSize;
                    positions[i * 3 + 2] = (Math.random() * 2 - 1) * boxSize;

                    sizes[i] = Math.random() * 0.8 + 0.2;

                    const color = starColors[Math.floor(Math.random() * starColors.length)];
                    colors[i * 3] = color.r;
                    colors[i * 3 + 1] = color.g;
                    colors[i * 3 + 2] = color.b;
                }

                const geometry = new THREE.BufferGeometry();
                geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));
                geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

                material = new THREE.ShaderMaterial({
                    uniforms: {
                        time: { value: 0.0 },
                        resolution: { value: new THREE.Vector2(width, height) },
                        baseColor: { value: new THREE.Color(0xbb86fc) },
                        waveColor: { value: new THREE.Color(0x82aaff) },
                        boxSize: { value: boxSize }
                    },
                    vertexShader: `
                        uniform float time;
                        uniform float boxSize;
                        attribute float size;
                        attribute vec3 color;
                        varying vec3 vColor;
                        varying float vOpacity;

                        void main() {
                            vColor = color;

                            vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);

                            float rippleStrength = 1.5;
                            float rippleSpeed = 0.5;
                            float rippleFreqX = 0.7;
                            float rippleFreqY = 0.9;

                            float displacementZ = 0.0;
                            displacementZ += sin(position.x * rippleFreqX + time * rippleSpeed) * rippleStrength * 0.5;
                            displacementZ += cos(position.y * rippleFreqY + time * rippleSpeed * 0.7) * rippleStrength * 0.4;
                            displacementZ += sin((position.x + position.y) * 0.5 + time * rippleSpeed * 1.2) * rippleStrength * 0.3;

                            mvPosition.z += displacementZ;

                            gl_PointSize = size * (300.0 / -mvPosition.z);

                            vOpacity = 1.0;
                            if (mvPosition.z > -1.0) vOpacity *= smoothstep(0.0, 1.0, (-mvPosition.z - 0.5) * 2.0);
                            if (mvPosition.z < -boxSize + 5.0) vOpacity *= smoothstep(0.0, 1.0, (mvPosition.z + boxSize - 5.0) / 5.0);


                            gl_Position = projectionMatrix * mvPosition;
                        }
                    `,
                    fragmentShader: `
                        uniform sampler2D pointTexture;
                        uniform vec3 baseColor;
                        uniform vec3 waveColor;
                        uniform float time;
                        varying vec3 vColor;
                        varying float vOpacity;

                        void main() {
                            float r = distance(gl_PointCoord, vec2(0.5, 0.5));
                            if (r > 0.5) discard;

                            float strength = 1.0 - r * 2.0;
                            strength = pow(strength, 2.0);

                            vec3 finalStarColor = vColor * strength;
                            float sparkle = sin(vColor.r * 10.0 + time * 5.0) * 0.2 + 0.8;
                            finalStarColor *= sparkle;

                            gl_FragColor = vec4(finalStarColor, strength * vOpacity * 0.2);
                        }
                    `,
                    transparent: true,
                    blending: THREE.AdditiveBlending,
                    depthWrite: false
                });

                points = new THREE.Points(geometry, material);
                scene.add(points);

                document.addEventListener('mousemove', (event) => {
                    mouseX = (event.clientX / window.innerWidth) * 2 - 1;
                    mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
                });

                canvas.addEventListener('mousedown', (event) => {
                    isDragging = true;
                    previousMouseX = event.clientX;
                    previousMouseY = event.clientY;
                });

                canvas.addEventListener('mouseup', () => {
                    isDragging = false;
                });

                canvas.addEventListener('mousemove', (event) => {
                    if (isDragging) {
                        const deltaX = event.clientX - previousMouseX;
                        const deltaY = event.clientY - previousMouseY;

                        const rotationSpeed = 0.01;
                        const angleY = deltaX * rotationSpeed;
                        const angleX = deltaY * rotationSpeed;

                        const spherical = new THREE.Spherical().setFromVector3(camera.position);

                        spherical.theta -= angleY;
                        spherical.phi -= angleX;

                        spherical.phi = Math.max(0.1, Math.min(Math.PI - 0.1, spherical.phi));

                        camera.position.setFromSpherical(spherical);
                        camera.lookAt(new THREE.Vector3(0, 0, 0));

                        previousMouseX = event.clientX;
                        previousMouseY = event.clientY;
                    }
                });
            };

            const animate = () => {
                animationFrameId = requestAnimationFrame(animate);

                if (material) {
                    material.uniforms.time.value += 0.005;
                }

                if (camera && !isDragging) {
                     camera.position.x += (mouseX * 2 - camera.position.x) * 0.05;
                     camera.position.y += (mouseY * 2 - camera.position.y) * 0.05;
                     camera.lookAt(new THREE.Vector3(0,0,0));
                }

                if (renderer && scene && camera) {
                    renderer.render(scene, camera);
                }
            };

            const onWindowResize = () => {
                if (camera && renderer) {
                    const width = window.innerWidth;
                    const height = window.innerHeight;
                    camera.aspect = width / height;
                    camera.updateProjectionMatrix();
                    renderer.setSize(width, height);
                    if (material && material.uniforms.resolution) {
                        material.uniforms.resolution.value.set(width, height);
                    }
                }
                updateHeaderPositions();
            };

            window.onload = function () {
                initThreeJs();
                animate();
            };

            window.addEventListener('resize', onWindowResize);

            window.addEventListener('beforeunload', () => {
                if (animationFrameId) {
                    cancelAnimationFrame(animationFrameId);
                }
                if (renderer) {
                    renderer.dispose();
                }
                if (scene) {
                    scene.clear();
                }
            });

            updateHeaderPositions();
        });
    </script>
</body>
</html>
